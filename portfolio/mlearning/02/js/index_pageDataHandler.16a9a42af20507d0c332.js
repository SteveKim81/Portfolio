!function(e){var a={};function n(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=a,n.d=function(e,a,t){n.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,a){if(1&a&&(e=n(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var r in e)n.d(t,r,function(a){return e[a]}.bind(null,r));return t},n.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(a,"a",a),a},n.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},n.p="",n(n.s=168)}({168:function(e,a,n){"use strict";n.r(a);var t=function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],t=[],r=function e(a,n,r){void 0!==a[n]&&(t=r.concat(n)),Object.entries(a).forEach((function(a){void 0!==a[1].pages&&e(a[1].pages,n,r.concat(a[0]))}))};return r(e,a,n),t},r=function e(a,n,t,r,l){Object.entries(a).forEach((function(i){"delete"!==i[1].pageInfo.action&&l({lsId:i[0],pageInfo:i[1].pageInfo,parentLsId:n,ancestorsLsId:t,parentData:a,depth:r}),void 0!==i[1].pages&&e(i[1].pages,i[0],t.concat(i[0]),r+1,l)}))},l=function e(a,n,t,r){Object.entries(a).forEach((function(l){r({lsId:l[0],pageInfo:l[1].pageInfo,parentLsId:n,parentData:a,depth:t}),void 0!==l[1].pages&&e(l[1].pages,l[0],t+1,r)}))},i=null,o=null;window.PageDataHandler=function(e){var a,n,d=e.action,g=e.pageData||window.parent.globalPageData;if("get.globalPageData"===d)return window.parent.globalPageData;if("set.globalPageData"===d)window.parent.globalPageData=g;else{if("get.pageStack"===d){var u=e.lsId||parent.global_LS_id;return t(g,u)}if("get.pageData"===d){var c=e.lsId||parent.global_LS_id,f=e.pageStack||window.PageDataHandler({action:"get.pageStack",pageData:g,lsId:c});return a=g,(n=f).length>0?n.reduce((function(e,a,t){return n.length-1!==t?e[a].pages:e[a]}),a):null}if("get.pageInfo"===d){var s=e.lsId||parent.global_LS_id;return function(e,a){return a.length>0?a.reduce((function(e,n,t){return a.length-1!==t?e[n].pages:e[n].pageInfo}),e):null}(g,e.pageStack||window.PageDataHandler({action:"get.pageStack",pageData:g,lsId:s}))}if("change.lsId"===d){var p=e.from,v=e.to,I=t(g,p),b=I.slice(0,-1).reduce((function(e,a,n){return n!==I.length-1?e[a].pages:e[a]}),g);Object.keys(b).forEach((function(e){var a=b[e];p===e?(delete b[e],b[v]=a):(delete b[e],b[e]=a)}))}else if("do.everyPage"===d){var y=void 0!==e.callback?e.callback:function(){};r(g,null,[],0,y)}else if("do.everyPageWithDelete"===d){var _=void 0!==e.callback?e.callback:function(){};l(g,null,0,_)}else if("init.pageData"===d){var P=e.lsId,D=window.PageDataHandler({action:"get.pageInfo",lsId:P});if(null!==D.pageType)!0!==D.initialized&&(D=Object.assign(D,{action:null,layer:"layer_main",layerData:{},resource:null,needSave:!1,timepoint:0,initialized:!0})),$("#lsPage_"+P).find("layer").toArray().forEach((function(e){D.layerData[e.id]||(D.layerData[e.id]={id:e.id,timepoint:0,action:null,resource:null})}))}else{if("get.currentPageId"===d)return null!==i?i.attr("id"):"lsPage_"+parent.global_LS_id;if("get.currentPage"===d)return i;if("set.currentPage"===d){var w=void 0!==e.lsId?e.lsId:parent.global_LS_id,h=$("#lsPage_"+w);i=h.length>0?h:null}else{if("get.currentLayerId"===d){var S=void 0!==e.lsId?e.lsId:parent.global_LS_id,L=window.PageDataHandler({action:"get.pageInfo",lsId:S});return null!==L?L.layer:null}if("set.currentLayerId"===d){var j,O=null!==(j=e.lsId)&&void 0!==j?j:parent.global_LS_id,k=e.layerId,m=e.pageInfo,H=void 0===m?window.PageDataHandler({action:"get.pageInfo",lsId:O}):m;H&&k&&(H.layer=k)}else{if("get.currentLayer"===d)return o;if("set.currentLayer"===d){var x=void 0!==e.lsId?e.lsId:parent.global_LS_id,E=e.layerId,M=e.pageInfo,T=void 0===M?window.PageDataHandler({action:"get.pageInfo",lsId:x}):M,z=$("#lsPage_"+x);if(void 0!==E){var A=z.find("#"+E);o=A.length>0?A:null}else if(null!==T){var W=z.find("#"+T.layer);o=W.length>0?W:null}}}}}}}}});